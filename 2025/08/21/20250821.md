1. floating window 설정
  - window blend toggle 키매핑 추가
+++ b/dot_config/nvim/lua/autocmd/floating_window.lua
+  win = win or 0
+  win = win or 0
+function M.toggle_focus()
+  if vim.o.winblend == 0 then
+    M.fade_window()
+  else
+    M.focus_window()
+  end
+end
+

+++ b/dot_config/nvim/lua/common/custom.lua

+vim.keymap.set('n', '<leader>msg', cmd_window.message_window)
+vim.keymap.set('n', '<leader>map', cmd_window.map_window)
+vim.keymap.set('n', '<leader>autocmd', cmd_window.autocmd_window)
+vim.keymap.set('n', '<leader>hi', cmd_window.highlight_window)

+vim.keymap.set('n', '<leader>wb', fw_util.toggle_focus)
+
    - clear
  - ,gf 키매핑
    - clear

diff --git a/dot_config/nvim/lua/plugin_util/nvim-tree.lua b/dot_config/nvim/lua/plugin_util/nvim-tree.lua

 function M.load_item(item)
-  if vim.uv.fs_stat(item).type == "file" then
-    vim.cmd('edit! ' .. item)
-  else
+  local type, cmd = fs_util.make_load_command(item)
+  if type == "file" then
+    vim.cmd(cmd)
+  elseif type == "directory" then
     if view.is_visible() then
       api.tree.close()
     end
     api.tree.open({ path = item })
+  else
+    print("invalid type")
   end

+++ b/dot_config/nvim/lua/autocmd/floating_window.lua
+local fs_util = require('util.fs')
+local buf_util = require('util.buf')
+
+      local load_config = {
+        pre_callback = function()
+          print(string.format("pre_callback returns %s", vim.fn.getline(".")))
+          return vim.fn.getline(".")
+        end,
+        post_callback = function(line)
+          local type, cmd = fs_util.make_load_command(line)
+          vim.cmd(cmd)
+        end,
+        key = "<leader>gf"
+      }
+
+      buf_util.add_floating_window_callback(win, buf, load_config)
+
  - floating window에 대하여 hlsearch 끄기 (필요시에만 켜기)
+++ b/dot_config/nvim/lua/autocmd/floating_window.lua
+          vim.o.hlsearch = false
+          vim.o.hlsearch = true
    - clear
2. ,af, ,cf, ,jf, ,rf 키매핑
  - clear
diff --git a/dot_config/nvim/ftplugin/awk.lua b/dot_config/nvim/ftplugin/awk.lua
diff --git a/dot_config/nvim/ftplugin/javascript.lua b/dot_config/nvim/ftplugin/javascript.lua
diff --git a/dot_config/nvim/ftplugin/lua.lua b/dot_config/nvim/ftplugin/lua.lua
diff --git a/dot_config/nvim/ftplugin/python.lua b/dot_config/nvim/ftplugin/python.lua
diff --git a/dot_config/nvim/ftplugin/sh.lua b/dot_config/nvim/ftplugin/sh.lua
diff --git a/dot_config/nvim/ftplugin/typescript.lua b/dot_config/nvim/ftplugin/typescript.lua
diff --git a/dot_config/nvim/ftplugin/vim.lua b/dot_config/nvim/ftplugin/vim.lua

+++ b/dot_config/nvim/lua/common/cmd_keymaps.lua
+++ b/dot_config/nvim/lua/common/cmd_keymaps.lua
+-- floating window
+vim.keymap.set('n', '<leader>af', cmd_window.awk_window)
+vim.keymap.set('n', '<leader>gvf', cmd_window.gvpr_window)
+vim.keymap.set('n', '<leader>jf', cmd_window.jq_window)
+vim.keymap.set('n', '<leader>cf', cmd_window.curl_window)
+



--- a/dot_config/nvim/lua/common/init.lua
-function M.map_window()

3. ,rw, ,rl, ,r=, ,rlua 커맨드라인

+++ b/dot_config/nvim/lua/common/keymaps.lua
+-- excommand cursor
+vim.keymap.set('n', '<leader>rw', ':<C-R><C-W>')
+vim.keymap.set('n', '<leader>rl', ':<C-R><C-L>')
+vim.keymap.set('c', '<leader>rw', '<C-R><C-W>')
+vim.keymap.set('c', '<leader>rl', '<C-R><C-L>')
+
+-- excommand navigation
+vim.keymap.set('c', '<C-A>', '<Home>')
+vim.keymap.set('c', '<C-E>', '<End>')
+vim.keymap.set('c', '<C-H>', '<Left>')
+vim.keymap.set('c', '<C-L>', '<Right>')
+
+-- print lua expression (by mannual or using buffer)
+vim.keymap.set('n', '<leader>==', ':=')
+vim.keymap.set('n', '<leader>=l', ':=<C-R><C-L><CR>')
+vim.keymap.set('n', '<space>rr', ':lua <C-R><C-L><CR>')
+
+-- print vim expression (for command line insert)
+vim.keymap.set('n', '<leader>r=', ':<C-R>=')
+vim.keymap.set('c', '<leader>r=', '<C-R>=')
+
  - clear
4. tabline < > 로 감싸기 추가
  - clear

--- a/dot_config/nvim/lua/common/init.lua
 function _G.tabline_buffers()
+  local cur_buf = vim.api.nvim_get_current_buf()
+
   local buf_listed = function(buf) return buf.listed == 1 end
   local get_bufname = function(buf)
     local name = ''
@@ -144,6 +125,9 @@ function _G.tabline_buffers()
     if buf.changed == 1 then
       name = name .. ' +'
     end
+    if buf.bufnr == cur_buf then
+      name = '< ' .. name .. ' >'
+    end
     return name
   end

function M.focus_window(win)
  vim.api.nvim_win_set_option(win, "winblend", config.winblend_active)
  vim.api.nvim_win_set_option(win, "winhighlight", "")
end

function M.fade_window(win)
  vim.api.nvim_win_set_option(win, "winblend", config.winblend_inactive)
  vim.api.nvim_win_set_option(win, "winhighlight", "Normal:FadedNormal")
end


							*gui-colors*
	Suggested color names (these are available on most systems):
	    Red		LightRed	DarkRed
	    Green	LightGreen	DarkGreen	SeaGreen
	    Blue	LightBlue	DarkBlue	SlateBlue
	    Cyan	LightCyan	DarkCyan
	    Magenta	LightMagenta	DarkMagenta
	    Yellow	LightYellow	Brown		DarkYellow
	    Gray	LightGray	DarkGray
	    Black	White
	    Orange	Purple		Violet

	Colors which define Nvim's default color scheme:
	    NvimDarkBlue    NvimLightBlue
	    NvimDarkCyan    NvimLightCyan
	    NvimDarkGray1   NvimLightGray1
	    NvimDarkGray2   NvimLightGray2
	    NvimDarkGray3   NvimLightGray3
	    NvimDarkGray4   NvimLightGray4
	    NvimDarkGreen   NvimLightGreen
	    NvimDarkMagenta NvimLightMagenta
	    NvimDarkRed     NvimLightRed
	    NvimDarkYellow  NvimLightYellow

			:highlight MyGroup ctermbg=green guibg=green
			:match MyGroup /TODO/


highlight Normal ctermfg=grey ctermbg=darkblue
highlight Visual ctermfg=bg ctermbg=fg



function! CopyPwd()
    redir @"
    execute 'echo fnamemodify(expand("%"), ":~:.")'
    redir END
    let @+ = @"
endfunction

function! JqYankVisual()
    let sel = join(getline("'<", "'>"), "\n")
    let result = system('jq -f ~/script.jq', sel)
    call setreg('+', result)
endfunction



local lua_util = require('util.lua')

local a = {1,2,3,4,5}


print(#{unpack(a, 3, 4)})
lua_util.print_table({unpack(a, 3, 4)})


edit! +70 ~/.bashrc



-- local file_info = '~/.bashrc:70'
local file_info = '~/.bashrc'

local path, line = unpack(vim.split(file_info, ":", { trimempty = true }))
local cmd = ''
if line then
  cmd = string.format('edit! +%s %s', line, path)
else
  cmd = string.format('edit! %s', path)
end

print(cmd)


---

직접 url 요청하는 예시

가능은 하구나...

exec 3<>/dev/tcp/google.com/80
echo -e "GET / HTTP/1.1\r\nHost: www.google.com\r\nConnection: close\r\n\r\n" >&3
cat <&3


echo -e "GET / HTTP/1.1\r\nHost: www.google.com\r\nUser-Agent: curl/7.68.0\r\nConnection: close\r\n\r\n" | openssl s_client -quiet -connect www.google.com:443
